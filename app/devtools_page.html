<!doctype html>
<html ng-csp ng-app="madbid">
    <body ng-controller="AuctionController as ctrl">
        <h1>MadBid extension</h1>
        <p>You can select an auction ID or select a bidder to view usefull informations.</p>

        <button type="button" ng-click="ctrl.resetCache()">Reset Cache</button>

        <label>Select an auction :
          <select ng-model="ctrl.selection.selectedItem" ng-options="key as val.title || key for (key,val) in ctrl.itemsModel | excludeUnamed">
            <option value="">--Empty--</option>
          </select>
        </label>

        <label>Select a bidder :
          <select ng-model="ctrl.selection.selectedBidder" ng-options="key as key for (key,val) in ctrl.biddersModel">
            <option value="">--Empty--</option>
          </select>
        </label>

        <h2>{{ctrl.time | date:'H:mm:ss'}}</h2>


        <h3 ng-if="ctrl.selection.selectedItem">{{ctrl.itemsModel[ctrl.selection.selectedItem].remaining}} seconds remain</h3>
        <h3 ng-if="ctrl.selection.selectedItem">{{ctrl.itemsModel[ctrl.selection.selectedItem].price}} euros</h3>

        <auction-info ng-if="ctrl.selection.selectedItem"
                      ng-model="ctrl.itemsModel"
                      auction-id="ctrl.selection.selectedItem"
                      bidder-name="ctrl.selection.selectedBidder"></auction-info>

        <bidder-info ng-if="ctrl.selection.selectedItem"
                     ng-model="ctrl.biddersModel"
                     ng-items-model="ctrl.itemsModel"
                     auction-id="ctrl.selection.selectedItem"
                     bidder-name="ctrl.selection.selectedBidder"></bidder-info>


















        <script src="libs/angular.min.js"></script>
        <script src="libs/angular-local-storage.min.js"></script>
        <script src="libs/jquery.min.js"></script>
        <script src="libs/highcharts.js"></script>


        <script src="scripts/app.js"></script>
        <script src="scripts/controllers/AuctionController.js"></script>
        <script src="scripts/models/AuctionModel.js"></script>
        <script src="scripts/services/NetworkService.js"></script>
        <script src="scripts/directives/AuctionInfoDirective.js"></script>
        <script src="scripts/directives/BidderInfoDirective.js"></script>
        <script src="scripts/filters/ExcludeUnamedFilter.js"></script>
    </body>
</html>
